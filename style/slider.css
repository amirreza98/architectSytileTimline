/* =========================
   Global / Theme (Landing)
   ========================= */
:root{
  --bg-1:#0b0f1a;
  --bg-2:#10172a;
  --bg-3:#0e1324;
  --ink:#e6f0ff;
  --muted:#9aa4c7;
  --accent:#7c8aff;
  --accent-2:#9b72ff;
  --glass:rgba(255,255,255,0.08);
  --ring:rgba(124,138,255,0.55);
  --shadow:0 20px 60px rgba(0,0,0,0.45);
}

*{ box-sizing:border-box; }
html, body{
  margin:0;
  height:100%;
}

body{
  min-height:100dvh;
  color:var(--ink);
  font-family: 'Orbitron', ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  /* پس‌زمینه‌ی گرادیانی نرم با انیمیشن چرخه‌ای */
  background:
    radial-gradient(1200px 800px at 10% 10%, #1b2350 0%, transparent 60%),
    radial-gradient(1000px 700px at 90% 80%, #432a85 0%, transparent 65%),
    linear-gradient(120deg, var(--bg-1), var(--bg-2), var(--bg-3));
  background-attachment: fixed;
  overflow:hidden;
}

/* موج‌دار کردن ملایم نور پس‌زمینه (بدون تیز بودن مرزها) */
@keyframes bgShift {
  0%   { background-position: 0% 0%, 100% 100%, 0% 0%; }
  50%  { background-position: 10% 5%, 90% 95%, 100% 100%; }
  100% { background-position: 0% 0%, 100% 100%, 0% 0%; }
}
body{ animation: bgShift 18s ease-in-out infinite; }

/* اسکرول اسنپ افقی برای اسلایدر */
#slider-container{
  position:relative;
  width:100vw;
  height:100dvh;
  overflow-x:auto;
  overflow-y:hidden;
  scroll-snap-type: x mandatory;
  scroll-behavior:smooth;
  -webkit-overflow-scrolling:touch;
}

/* محو کردن اسکرول‌بار بدون شکستن دسترسی */
#slider-container::-webkit-scrollbar{ height:8px; }
#slider-container::-webkit-scrollbar-track{ background:transparent; }
#slider-container::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,0.12);
  border-radius:4px;
}

.slider{
  display:flex;
  align-items:center;
  height:100%;
  width:max-content;   /* به‌اندازه‌ی جمعِ اسلایدها */
}

.slide{
  position:relative;
  flex:none;
  width:100vw;
  height:100%;
  scroll-snap-align:start;
  display:flex;
  justify-content:center;
  align-items:center;
  padding: clamp(16px, 3vw, 32px);
}

/* کارت مرکزی (شیشه‌ای) برای هر اسلاید */
.content{
  position:relative;
  width:min(1200px, 92vw);
  height:min(86vh, 860px);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:space-between;
  backdrop-filter:saturate(140%) blur(10px);
  background:linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  border:1px solid rgba(255,255,255,0.12);
  border-radius:24px;
  box-shadow:var(--shadow);
  overflow:hidden;
}

/* مدل سه‌بعدی تمامِ فضای کارت منهای کپشن را بگیرد */
.content model-viewer{
  width:100%;
  height:calc(100% - 68px);
  --poster-color: transparent;
  --progress-bar-color: var(--accent);
  --progress-mask: rgba(0,0,0,0.3);
  object-fit:cover;
}

/* کپشن */
.content p{
  width:100%;
  margin:0;
  padding:14px 18px 18px;
  text-align:center;
  font-weight:800;
  letter-spacing:.04em;
  font-size: clamp(0.95rem, 1.2vw + .4rem, 1.25rem);
  color:var(--ink);
  background:linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.22) 100%);
  border-top:1px solid rgba(255,255,255,0.06);
  text-shadow:0 2px 12px rgba(0,0,0,0.6);
}

/* دکمه‌های ناوبری (گلسی + حلقه‌نور) */
.nav-buttons{
  position:fixed;
  bottom: clamp(18px, 5vh, 38px);
  left:50%;
  transform:translateX(-50%);
  display:flex;
  gap:12px;
  padding:8px 10px;
  background:var(--glass);
  border:1px solid rgba(255,255,255,0.14);
  border-radius:999px;
  backdrop-filter: blur(8px) saturate(160%);
  box-shadow: var(--shadow);
  z-index:20;
}

.nav-buttons a{
  width:30px; height:30px;
  display:grid; place-items:center;
  font-weight:700;
  text-decoration:none;
  color:var(--ink);
  border-radius:50%;
  border:1.5px solid rgba(255,255,255,0.24);
  background:rgba(255,255,255,0.06);
  transition: transform .25s ease, background .25s ease, border-color .25s ease, box-shadow .25s ease;
  box-shadow: inset 0 0 0 0 rgba(124,138,255,0.0);
}
.nav-buttons a:hover{
  transform: translateY(-2px) scale(1.08);
  background: rgba(255,255,255,0.12);
  border-color: var(--ring);
  box-shadow: inset 0 0 0 2px var(--ring);
}

/* حالت active با :target (بدون JS) */
#slide1:target ~ .nav-buttons a[href="#slide1"],
#slide2:target ~ .nav-buttons a[href="#slide2"],
#slide3:target ~ .nav-buttons a[href="#slide3"],
#slide4:target ~ .nav-buttons a[href="#slide4"],
#slide5:target ~ .nav-buttons a[href="#slide5"],
#slide6:target ~ .nav-buttons a[href="#slide6"],
#slide7:target ~ .nav-buttons a[href="#slide7"],
#slide8:target ~ .nav-buttons a[href="#slide8"]{
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  border-color: transparent;
  color:#0a0e1a;
  transform: translateY(-2px) scale(1.12);
  box-shadow: 0 8px 30px rgba(123, 136, 255, 0.45);
}

/* اگر هیچ :target نبود (ابتدای صفحه)، دکمه‌ی 1 را active کن */
#slider-container:not(:has(.slide:target)) .nav-buttons a[href="#slide1"]{
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  border-color: transparent;
  color:#0a0e1a;
  transform: translateY(-2px) scale(1.12);
  box-shadow: 0 8px 30px rgba(123, 136, 255, 0.45);
}

/* ریسپانسیو */
@media (max-width: 900px){
  .content{
    height:min(82vh, 760px);
    border-radius:20px;
  }
  .content model-viewer{
    height:calc(100% - 64px);
  }
}
@media (max-width: 560px){
  .nav-buttons{
    gap:8px;
    padding:6px 8px;
  }
  .nav-buttons a{
    width:26px; height:26px; font-size:.9rem;
  }
  .content{
    width: min(96vw, 680px);
    height: min(78vh, 680px);
  }
}

/* افکت فوکوس و دسترس‌پذیری */
.nav-buttons a:focus-visible{
  outline: 3px solid var(--accent);
  outline-offset: 2px;
}
